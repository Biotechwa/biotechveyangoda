<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Will You Be My Valentine?</title>
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts - Dancing Script (Romantic) and Poppins (Clean) -->
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #fdfbfb 0%, #ebedee 100%);
            overflow: hidden;
        }
        
        .romantic-bg {
            background: linear-gradient(to bottom right, #ffdde1, #ee9ca7);
            min-height: 100vh;
        }

        h1 {
            font-family: 'Dancing Script', cursive;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
            font-weight: 700;
        }

        .btn-transition {
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        /* Floating Hearts Animation */
        .heart {
            position: absolute;
            color: #ff4b4b;
            animation: float 4s ease-in infinite;
            opacity: 0;
            z-index: 0;
        }

        @keyframes float {
            0% { transform: translateY(100vh) scale(0); opacity: 1; }
            100% { transform: translateY(-10vh) scale(1.5); opacity: 0; }
        }

        @keyframes pulse-soft {
            0%, 100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 75, 75, 0.7); }
            50% { transform: scale(1.05); box-shadow: 0 0 0 10px rgba(255, 75, 75, 0); }
        }
        
        .pulse {
            animation: pulse-soft 2s infinite;
        }

        .hidden-page {
            display: none;
        }

        /* Video styling to ensure it looks like a clean animation */
        video {
            border-radius: 1rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            mix-blend-mode: multiply; /* Helps blend white backgrounds if the video has one */
        }
    </style>
</head>
<body class="romantic-bg flex flex-col items-center justify-center min-h-screen text-center p-4">

    <!-- Screen 1: The Question -->
    <div id="question-container" class="z-10 relative bg-white/80 backdrop-blur-sm p-8 rounded-3xl shadow-2xl max-w-lg w-full transition-all duration-500">
        
        <!-- Minion Video 1: Asking -->
        <!-- poster= shows this GIF while video loads or if file is missing -->
        <video id="video-ask" class="w-64 h-64 object-cover mx-auto mb-6" autoplay loop muted playsinline poster="https://media.tenor.com/2A2-Jd1lA9QAAAAM/minions-puppy-eyes.gif">
            <source src="img/minion-ask.mp4" type="video/mp4">
            <!-- Fallback for old browsers -->
            <img src="https://media.tenor.com/2A2-Jd1lA9QAAAAM/minions-puppy-eyes.gif" alt="Minion Please">
        </video>
        
        <h1 class="text-5xl md:text-6xl text-red-500 mb-8 leading-tight">Will you be my Valentine? üåπ</h1>

        <div class="flex flex-wrap justify-center items-center gap-4 relative w-full h-32">
            <!-- YES Button -->
            <button id="yes-btn" class="btn-transition pulse bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-8 rounded-full text-xl shadow-lg transform hover:-translate-y-1 z-20">
                Yes! ‚ù§Ô∏è
            </button>

            <!-- NO Button -->
            <button id="no-btn" class="btn-transition bg-red-400 hover:bg-red-500 text-white font-bold py-3 px-8 rounded-full text-xl shadow-lg z-20">
                No
            </button>
        </div>
    </div>

    <!-- Screen 2: The Celebration (Hidden initially) -->
    <div id="success-container" class="hidden-page z-20 flex-col items-center justify-center w-full h-full absolute top-0 left-0 bg-pink-100">
        <div class="z-30 p-6 bg-white/60 backdrop-blur-md rounded-3xl shadow-xl text-center">
            <h1 class="text-6xl md:text-7xl text-pink-600 mb-6 animate-bounce">Yaaay! I knew it! üéâ</h1>
            
            <!-- Minion Video 2: Kissing -->
            <!-- poster= shows this GIF while video loads or if file is missing -->
            <video id="video-kiss" class="w-64 h-64 object-cover mx-auto mb-6" autoplay loop muted playsinline poster="https://media.tenor.com/7T1c0e3xXyoAAAAM/minion-kiss.gif">
                <source src="img/minion-kiss.mp4" type="video/mp4">
                <img src="https://media.tenor.com/7T1c0e3xXyoAAAAM/minion-kiss.gif" alt="Minion Kiss">
            </video>
            
            <p class="text-2xl text-gray-700 font-bold mb-4">You are the best! üíñ</p>
            
            <div class="mt-4 p-4 bg-white rounded-xl shadow-inner inline-block">
                <p class="text-sm text-gray-500 mb-2">Playing our song...</p>
                <!-- Audio Player -->
                <audio id="love-song" controls class="mx-auto">
                    <source src="img/ath-alla-durak-gewala-kasun-tharindra.mp3" type="audio/mpeg">
                    Your browser does not support the audio element.
                </audio>
            </div>
        </div>
        
        <!-- Background decorative elements -->
        <div id="hearts-container" class="absolute inset-0 pointer-events-none overflow-hidden"></div>
    </div>

    <script>
        const questionContainer = document.getElementById('question-container');
        const successContainer = document.getElementById('success-container');
        const yesBtn = document.getElementById('yes-btn');
        const noBtn = document.getElementById('no-btn');
        const audio = document.getElementById('love-song');
        const heartsContainer = document.getElementById('hearts-container');

        let noClickCount = 0;
        const phrases = [
            "No", "Are you sure?", "Really sure?", "Think again!", "Last chance!", 
            "Surely not?", "You might regret this!", "Give it another thought!", 
            "Are you absolutely certain?", "This could be a mistake!", "Have a heart!", 
            "Don't be so cold!", "Change of heart?", "Wouldn't you reconsider?", 
            "Is that your final answer?", "You're breaking my heart ;("
        ];

        function createHeart() {
            const heart = document.createElement('div');
            heart.classList.add('heart');
            heart.innerHTML = '‚ù§Ô∏è';
            heart.style.left = Math.random() * 100 + "vw";
            heart.style.animationDuration = Math.random() * 2 + 3 + "s";
            heart.style.fontSize = Math.random() * 20 + 20 + "px";
            heartsContainer.appendChild(heart);
            setTimeout(() => { heart.remove(); }, 5000);
        }

        noBtn.addEventListener('click', () => {
            noClickCount++;
            const textIndex = Math.min(noClickCount, phrases.length - 1);
            noBtn.innerText = phrases[textIndex];

            const currentSize = parseFloat(window.getComputedStyle(yesBtn).fontSize);
            const newSize = currentSize * 1.5; 
            yesBtn.style.fontSize = `${newSize}px`;
            yesBtn.style.padding = `${10 + (noClickCount * 5)}px ${30 + (noClickCount * 10)}px`;
            yesBtn.classList.remove('pulse');
        });

        yesBtn.addEventListener('click', () => {
            questionContainer.style.display = 'none';
            successContainer.style.display = 'flex';
            successContainer.classList.remove('hidden-page');

            try {
                audio.volume = 0.5;
                audio.play().catch(e => console.log("Audio play failed (file might be missing):", e));
            } catch (err) {
                console.log("Audio error");
            }
            setInterval(createHeart, 300);
        });
    </script>
</body>
</html>
